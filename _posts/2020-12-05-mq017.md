---
title: "mq017.螺旋矩阵"
style: post
categories: Leetcode simulation
---

[题目链接](https://leetcode-cn.com/problems/spiral-matrix/)

 啊这个题就是典型的模拟嘛，就是要处理好各种边界吧，所以我花了很多时间在试，最后终于写对了，但是空间复杂度居然比较高？不知道为什么，试试不要写成类的方法而是都写在一个函数里。这个算法的时间复杂度是O（NM），空间复杂度是O（1）。

{% highlight python %}

class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        if not matrix:
            return []
        self.row, self.col = len(matrix), len(matrix[0])
        self.res = []
        time = 0
        self.right(matrix, 0, 0, time)
        return self.res

    def right(self, matrix, x, y, time):
        for i in range(time, self.col-time):
            self.res.append(matrix[x][i])
        y = self.col - time - 1
        if 2*time + 1 < self.row:
            self.down(matrix, x, y, time)

    def down(self, matrix, x, y, time):
        for i in range(x+1, self.row-time):
            self.res.append(matrix[i][y])
        x = self.row - time - 1
        if 2*time + 1 < self.col:
            self.left(matrix, x, y, time)
        
    def left(self, matrix, x, y, time):
        for i in range(y-1, time-1, -1):
            self.res.append(matrix[x][i])
        y = time
        if 2*time + 2 < self.row:
            self.up(matrix, x, y, time)

    def up(self, matrix, x, y, time):
        for i in range(x-1, time, -1):
            self.res.append(matrix[i][y])
        x = time + 1
        time += 1
        if time*2 < self.col:
            self.right(matrix, x, y, time)

{% endhighlight %}

